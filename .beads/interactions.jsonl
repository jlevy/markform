{"id":"markform-08t","title":"Markform v0.1 Full Implementation","description":"Complete implementation of Markform v0.1 as defined in plan-2025-12-22-markform-v01-implementation.md\n\nPhases:\n- Phase 0: Project scaffolding and monorepo setup\n- Phase 1: Core engine (parsing, serialization, validation, patches)\n- Phase 2: Web UI (serve) and basic CLI commands\n- Phase 3: End-to-end CLI, harness loop, and golden session tests\n- Phase 4: Vercel AI SDK integration research and testing\n\nRef: docs/project/specs/active/plan-2025-12-22-markform-v01-implementation.md","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-22T23:18:11.561717-08:00","updated_at":"2025-12-22T23:18:11.561717-08:00"}
{"id":"markform-1hn","title":"1.3 Canonical Serialization (engine/serialize.ts)","description":"Implement serialize(form: ParsedForm, opts?): string\n- Frontmatter generation with computed summaries\n- Tag serialization with alphabetical attributes\n- Value fence generation\n- Option list serialization with markers\n- Doc block placement\n- Round-trip tests: parse -\u003e serialize -\u003e parse -\u003e compare","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:19:41.512809-08:00","updated_at":"2025-12-22T23:19:41.512809-08:00","dependencies":[{"issue_id":"markform-1hn","depends_on_id":"markform-2j6","type":"blocks","created_at":"2025-12-22T23:19:57.51323-08:00","created_by":"daemon"},{"issue_id":"markform-1hn","depends_on_id":"markform-bmy","type":"blocks","created_at":"2025-12-22T23:19:59.392378-08:00","created_by":"daemon"},{"issue_id":"markform-1hn","depends_on_id":"markform-7mt","type":"blocks","created_at":"2025-12-22T23:20:01.105721-08:00","created_by":"daemon"}]}
{"id":"markform-1xj","title":"4.2 Live Agent Test Script","description":"Create scripts/test-live-agent.ts:\n- Load simple form template for quick iteration\n- Configure AI SDK with tools\n- Run agent loop to fill form\n- Log session transcript\n- Validate final form completeness\n- Test with complex form","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:21:06.760651-08:00","updated_at":"2025-12-22T23:21:06.760651-08:00","dependencies":[{"issue_id":"markform-1xj","depends_on_id":"markform-x39","type":"blocks","created_at":"2025-12-22T23:21:13.738064-08:00","created_by":"daemon"},{"issue_id":"markform-1xj","depends_on_id":"markform-cx7","type":"blocks","created_at":"2025-12-22T23:21:14.630102-08:00","created_by":"daemon"}]}
{"id":"markform-2j6","title":"Phase 1: Core Engine with Unit Tests","description":"Implement all core engine functionality using TDD with simple test form.\n\nSub-tasks:\n1.1 Types and Schemas (engine/types.ts)\n1.2 Markdoc Parsing (engine/parse.ts)\n1.3 Canonical Serialization (engine/serialize.ts)\n1.4 Summaries (engine/summaries.ts)\n1.5 Validation (engine/validate.ts)\n1.6 Patch Application (engine/apply.ts)\n1.7 Inspect (engine/inspect.ts)\n1.8 Validate with Simple Form\n1.9 Session Transcript Handling (engine/session.ts)\n\nCheckpoints:\n- All unit tests pass\n- Parse simple.form.md → structure summary matches\n- Round-trip test passes\n- Validation tests pass\n- Patch tests pass","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-22T23:18:36.913155-08:00","updated_at":"2025-12-22T23:18:36.913155-08:00","dependencies":[{"issue_id":"markform-2j6","depends_on_id":"markform-08t","type":"blocks","created_at":"2025-12-22T23:18:46.002331-08:00","created_by":"daemon"},{"issue_id":"markform-2j6","depends_on_id":"markform-ejt","type":"blocks","created_at":"2025-12-22T23:18:47.199817-08:00","created_by":"daemon"},{"issue_id":"markform-2j6","depends_on_id":"markform-2v3","type":"blocks","created_at":"2025-12-22T23:23:06.035801-08:00","created_by":"daemon"}]}
{"id":"markform-2v3","title":"Verify GitHub Actions CI passes","description":"Push Phase 0 work and verify CI passes on GitHub Actions:\n\n1. Commit and push all Phase 0 scaffolding to a branch\n2. Create PR to trigger CI workflow\n3. Use gh CLI to monitor CI run:\n   - gh run list --limit 5\n   - gh run watch \u003crun-id\u003e\n   - gh run view \u003crun-id\u003e --log-failed (if fails)\n\n4. Verify all CI steps pass:\n   - pnpm install\n   - pnpm lint\n   - pnpm typecheck\n   - pnpm build\n   - pnpm publint\n   - pnpm test\n\n5. Fix any CI failures and re-verify\n\n6. Merge PR to main when CI is green\n\nThis ensures the scaffolding works in a clean environment,\nnot just locally where caches and installed tools may mask issues.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:22:50.435199-08:00","updated_at":"2025-12-22T23:22:50.435199-08:00","dependencies":[{"issue_id":"markform-2v3","depends_on_id":"markform-ejt","type":"blocks","created_at":"2025-12-22T23:22:59.355844-08:00","created_by":"daemon"},{"issue_id":"markform-2v3","depends_on_id":"markform-o8l","type":"blocks","created_at":"2025-12-22T23:22:59.512576-08:00","created_by":"daemon"}]}
{"id":"markform-50a","title":"1.8 Validate with Simple Form","description":"Integration tests with simple.form.md:\n- Verify parse/serialize round-trip\n- Verify all field types parse correctly\n- Verify all checkbox modes work\n- Verify validation catches expected issues","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:19:45.416377-08:00","updated_at":"2025-12-22T23:19:45.416377-08:00","dependencies":[{"issue_id":"markform-50a","depends_on_id":"markform-2j6","type":"blocks","created_at":"2025-12-22T23:19:58.271985-08:00","created_by":"daemon"},{"issue_id":"markform-50a","depends_on_id":"markform-7mt","type":"blocks","created_at":"2025-12-22T23:20:01.933867-08:00","created_by":"daemon"},{"issue_id":"markform-50a","depends_on_id":"markform-1hn","type":"blocks","created_at":"2025-12-22T23:20:02.096667-08:00","created_by":"daemon"},{"issue_id":"markform-50a","depends_on_id":"markform-aae","type":"blocks","created_at":"2025-12-22T23:20:02.246023-08:00","created_by":"daemon"}]}
{"id":"markform-7mt","title":"1.2 Markdoc Parsing (engine/parse.ts)","description":"Implement parseForm(markdown: string): ParsedForm\n- Frontmatter extraction and parsing\n- AST traversal for form/group/field tags\n- Option extraction from list items\n- Value extraction from fence nodes\n- Documentation block extraction\n- Semantic validation (ID uniqueness, refs, etc.)\n- Build orderIndex and idIndex\n- Unit tests for all field types and edge cases","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:19:40.796759-08:00","updated_at":"2025-12-22T23:19:40.796759-08:00","dependencies":[{"issue_id":"markform-7mt","depends_on_id":"markform-2j6","type":"blocks","created_at":"2025-12-22T23:19:57.372862-08:00","created_by":"daemon"},{"issue_id":"markform-7mt","depends_on_id":"markform-bmy","type":"blocks","created_at":"2025-12-22T23:19:59.219353-08:00","created_by":"daemon"}]}
{"id":"markform-8ap","title":"1.6 Patch Application (engine/apply.ts)","description":"Implement applyPatches(form: ParsedForm, patches: Patch[]): ApplyResult\n- Structural validation (field/option existence, type checking)\n- Patch semantics (set_*, clear_field, set_checkboxes merge)\n- Transaction semantics (all-or-nothing)\n- Unit tests for all operations and error cases","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:19:43.841133-08:00","updated_at":"2025-12-22T23:19:43.841133-08:00","dependencies":[{"issue_id":"markform-8ap","depends_on_id":"markform-2j6","type":"blocks","created_at":"2025-12-22T23:19:57.951043-08:00","created_by":"daemon"},{"issue_id":"markform-8ap","depends_on_id":"markform-bmy","type":"blocks","created_at":"2025-12-22T23:19:59.83889-08:00","created_by":"daemon"},{"issue_id":"markform-8ap","depends_on_id":"markform-7mt","type":"blocks","created_at":"2025-12-22T23:20:01.597312-08:00","created_by":"daemon"}]}
{"id":"markform-9sy","title":"3.3 Mock Agent (harness/mockAgent.ts)","description":"Implement mock agent:\n- Load completed mock file\n- Extract values from mock\n- On each step, pick recommended fields and generate patches\n- Deterministic execution for testing","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:20:47.253408-08:00","updated_at":"2025-12-22T23:20:47.253408-08:00","dependencies":[{"issue_id":"markform-9sy","depends_on_id":"markform-yz3","type":"blocks","created_at":"2025-12-22T23:20:54.830125-08:00","created_by":"daemon"},{"issue_id":"markform-9sy","depends_on_id":"markform-o5m","type":"blocks","created_at":"2025-12-22T23:20:56.042419-08:00","created_by":"daemon"}]}
{"id":"markform-aae","title":"1.5 Validation (engine/validate.ts)","description":"Implement validate(form: ParsedForm, opts?): ValidationResult\n- Built-in validators (required, patterns, ranges, counts, checkboxes)\n- Code validator loading via jiti\n- Validator execution and error collection\n- Unit tests for all validation rules","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:19:43.082645-08:00","updated_at":"2025-12-22T23:19:43.082645-08:00","dependencies":[{"issue_id":"markform-aae","depends_on_id":"markform-2j6","type":"blocks","created_at":"2025-12-22T23:19:57.804845-08:00","created_by":"daemon"},{"issue_id":"markform-aae","depends_on_id":"markform-bmy","type":"blocks","created_at":"2025-12-22T23:19:59.684933-08:00","created_by":"daemon"},{"issue_id":"markform-aae","depends_on_id":"markform-7mt","type":"blocks","created_at":"2025-12-22T23:20:01.428231-08:00","created_by":"daemon"}]}
{"id":"markform-bld","title":"1.4 Summaries (engine/summaries.ts)","description":"Implement summary computation:\n- computeStructureSummary(schema): StructureSummary\n- computeProgressSummary(schema, values, issues): ProgressSummary\n- Submission/completion state computation\n- Unit tests","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:19:42.275414-08:00","updated_at":"2025-12-22T23:19:42.275414-08:00","dependencies":[{"issue_id":"markform-bld","depends_on_id":"markform-2j6","type":"blocks","created_at":"2025-12-22T23:19:57.650331-08:00","created_by":"daemon"},{"issue_id":"markform-bld","depends_on_id":"markform-bmy","type":"blocks","created_at":"2025-12-22T23:19:59.542497-08:00","created_by":"daemon"},{"issue_id":"markform-bld","depends_on_id":"markform-7mt","type":"blocks","created_at":"2025-12-22T23:20:01.268849-08:00","created_by":"daemon"}]}
{"id":"markform-bmy","title":"1.1 Types and Schemas (engine/types.ts)","description":"Define all TypeScript types and Zod schemas:\n- Id, OptionId, QualifiedOptionRef\n- Checkbox types and values\n- Field union type (all 6 field types)\n- FormSchema, FieldGroup, FieldBase\n- All field interfaces\n- DocumentationBlock\n- ParsedForm, IdIndexEntry\n- Patch union type\n- ValidationIssue types\n- InspectIssue, InspectResult, ApplyResult\n- Summary types\n- Session transcript types\n- MarkformFrontmatter","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:19:39.873559-08:00","updated_at":"2025-12-22T23:19:39.873559-08:00","dependencies":[{"issue_id":"markform-bmy","depends_on_id":"markform-2j6","type":"blocks","created_at":"2025-12-22T23:19:57.2301-08:00","created_by":"daemon"}]}
{"id":"markform-bve","title":"1.7 Inspect (engine/inspect.ts)","description":"Implement inspect(form: ParsedForm): InspectResult\n- Issue prioritization logic\n- ValidationIssue to InspectIssue mapping\n- Completion check (isComplete)\n- Unit tests for issue ordering","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:19:44.726863-08:00","updated_at":"2025-12-22T23:19:44.726863-08:00","dependencies":[{"issue_id":"markform-bve","depends_on_id":"markform-2j6","type":"blocks","created_at":"2025-12-22T23:19:58.100143-08:00","created_by":"daemon"},{"issue_id":"markform-bve","depends_on_id":"markform-bmy","type":"blocks","created_at":"2025-12-22T23:19:59.993428-08:00","created_by":"daemon"},{"issue_id":"markform-bve","depends_on_id":"markform-aae","type":"blocks","created_at":"2025-12-22T23:20:01.764027-08:00","created_by":"daemon"}]}
{"id":"markform-c7v","title":"2.4 Serve Command (cli/commands/serve.ts)","description":"Implement serve command:\n- HTTP server setup\n- HTML rendering of form structure (groups, fields, checkboxes, docs)\n- CSS styling for readability\n- Save button with versioned filename logic","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:20:22.489667-08:00","updated_at":"2025-12-22T23:20:22.489667-08:00","dependencies":[{"issue_id":"markform-c7v","depends_on_id":"markform-n3l","type":"blocks","created_at":"2025-12-22T23:20:30.20486-08:00","created_by":"daemon"},{"issue_id":"markform-c7v","depends_on_id":"markform-g3k","type":"blocks","created_at":"2025-12-22T23:20:31.417234-08:00","created_by":"daemon"}]}
{"id":"markform-clq","title":"3.1 Apply Command (cli/commands/apply.ts)","description":"Implement apply command:\n- Parse form file\n- Parse patches from --patch JSON argument\n- Apply patches\n- Write canonical output\n- Report issues","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:20:45.603488-08:00","updated_at":"2025-12-22T23:20:45.603488-08:00","dependencies":[{"issue_id":"markform-clq","depends_on_id":"markform-yz3","type":"blocks","created_at":"2025-12-22T23:20:54.538973-08:00","created_by":"daemon"},{"issue_id":"markform-clq","depends_on_id":"markform-g3k","type":"blocks","created_at":"2025-12-22T23:20:55.86385-08:00","created_by":"daemon"}]}
{"id":"markform-cvf","title":"Setup CI workflow","description":"Setup GitHub Actions CI workflow per research doc:\n\n.github/workflows/ci.yml:\n- Triggers: pull_request, push to main\n- Jobs: test\n- Steps:\n  1. actions/checkout@v5\n  2. pnpm/action-setup@v4 (version: 10)\n  3. actions/setup-node@v6 (node-version: 24, cache: pnpm)\n  4. pnpm install --frozen-lockfile\n  5. pnpm lint\n  6. pnpm typecheck\n  7. pnpm build\n  8. pnpm publint\n  9. pnpm test\n\n.github/workflows/release.yml:\n- Triggers: push to main\n- Permissions: contents write, pull-requests write\n- Steps:\n  1. actions/checkout@v5 (fetch-depth: 0)\n  2. pnpm/action-setup@v4\n  3. actions/setup-node@v6 (registry-url: npm)\n  4. pnpm install --frozen-lockfile\n  5. changesets/action@v1 (publish: pnpm release)\n\nRepository settings note:\n- Actions → Workflow permissions → Read and write\n\nRef: docs/project/research/current/research-modern-typescript-monorepo-package.md (Section 8)","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:19:06.382955-08:00","updated_at":"2025-12-22T23:22:39.589192-08:00","dependencies":[{"issue_id":"markform-cvf","depends_on_id":"markform-ejt","type":"blocks","created_at":"2025-12-22T23:19:13.416831-08:00","created_by":"daemon"},{"issue_id":"markform-cvf","depends_on_id":"markform-zt3","type":"blocks","created_at":"2025-12-22T23:19:14.594297-08:00","created_by":"daemon"}]}
{"id":"markform-cx7","title":"4.1 AI SDK Tool Definitions (integrations/ai-sdk.ts)","description":"Implement createMarkformTools(options) factory:\n- markform_inspect tool\n- markform_apply tool\n- markform_export tool\n- markform_get_markdown tool\n- Zod input schemas for all tools\n- Tool execute functions wrapping engine","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:21:06.003801-08:00","updated_at":"2025-12-22T23:21:06.003801-08:00","dependencies":[{"issue_id":"markform-cx7","depends_on_id":"markform-x39","type":"blocks","created_at":"2025-12-22T23:21:13.585204-08:00","created_by":"daemon"}]}
{"id":"markform-dl1","title":"2.2 Inspect Command (cli/commands/inspect.ts)","description":"Implement inspect command:\n- Parse form file\n- Run validation\n- Output YAML report with structure/progress summary, form state, issues\n- Colored output for terminal","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:20:21.091384-08:00","updated_at":"2025-12-22T23:20:21.091384-08:00","dependencies":[{"issue_id":"markform-dl1","depends_on_id":"markform-n3l","type":"blocks","created_at":"2025-12-22T23:20:29.868149-08:00","created_by":"daemon"},{"issue_id":"markform-dl1","depends_on_id":"markform-g3k","type":"blocks","created_at":"2025-12-22T23:20:31.018952-08:00","created_by":"daemon"}]}
{"id":"markform-ejt","title":"Phase 0: Project Scaffolding","description":"Set up pnpm monorepo with all tooling configured.\n\nDeliverables:\n- Initialize pnpm workspace structure\n- Create root package.json with workspace scripts\n- Create pnpm-workspace.yaml\n- Create .npmrc with workspace settings\n- Create tsconfig.base.json with shared TypeScript config\n- Create packages/markform/ directory structure\n- Create package package.json with exports, dependencies, scripts\n- Create tsdown.config.ts for build\n- Create tsconfig.json extending base\n- Create eslint.config.js (flat config)\n- Set up .changeset/ for versioning\n- Create .github/workflows/ci.yml\n- Create placeholder src/index.ts\n- Create initial test file\n- Verify pnpm build, test, lint all pass\n\nCheckpoints:\n- pnpm build passes\n- pnpm test passes\n- pnpm lint passes\n- pnpm typecheck passes","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-22T23:18:36.219599-08:00","updated_at":"2025-12-22T23:18:36.219599-08:00","dependencies":[{"issue_id":"markform-ejt","depends_on_id":"markform-08t","type":"blocks","created_at":"2025-12-22T23:18:45.863147-08:00","created_by":"daemon"}]}
{"id":"markform-g3k","title":"2.1 CLI Infrastructure (cli/)","description":"Create CLI infrastructure per TypeScript CLI Rules:\n- bin.ts entry point with commander setup\n- lib/colors.ts (picocolors wrapper)\n- lib/shared.ts (context helpers, debug, dry-run)\n- lib/formatting.ts (output formatting)\n- Global options: --verbose, --quiet, --dry-run\n- Colored help text","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:20:20.336047-08:00","updated_at":"2025-12-22T23:20:20.336047-08:00","dependencies":[{"issue_id":"markform-g3k","depends_on_id":"markform-n3l","type":"blocks","created_at":"2025-12-22T23:20:29.694434-08:00","created_by":"daemon"}]}
{"id":"markform-h0z","title":"1.9 Session Transcript Handling (engine/session.ts)","description":"Implement session handling:\n- parseSession(yaml: string): SessionTranscript\n- serializeSession(session: SessionTranscript): string\n- Session schema validation via Zod\n- YAML serialization with snake_case\n- Comprehensive round-trip validation tests","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:19:46.120428-08:00","updated_at":"2025-12-22T23:19:46.120428-08:00","dependencies":[{"issue_id":"markform-h0z","depends_on_id":"markform-2j6","type":"blocks","created_at":"2025-12-22T23:19:58.430656-08:00","created_by":"daemon"},{"issue_id":"markform-h0z","depends_on_id":"markform-bmy","type":"blocks","created_at":"2025-12-22T23:20:00.144739-08:00","created_by":"daemon"}]}
{"id":"markform-ja8","title":"Initialize pnpm workspace structure","description":"Initialize pnpm workspace following research-modern-typescript-monorepo-package.md:\n\nRoot package.json:\n- name: markform-workspace\n- private: true\n- packageManager: pnpm@10.26.1\n- engines: { node: '\u003e=24' }\n- Scripts: build, test, lint, typecheck, publint, changeset, version-packages, release\n\npnpm-workspace.yaml:\n- packages: ['packages/*']\n\n.npmrc:\n- save-workspace-protocol=true\n- prefer-workspace-packages=true\n\ntsconfig.base.json (per research doc):\n- target: ES2024\n- lib: ['ES2024']\n- module: ESNext\n- moduleResolution: Bundler\n- strict: true\n- noUncheckedIndexedAccess: true\n- verbatimModuleSyntax: true\n- skipLibCheck: true\n- forceConsistentCasingInFileNames: true\n\nRef: docs/project/research/current/research-modern-typescript-monorepo-package.md","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:19:04.224762-08:00","updated_at":"2025-12-22T23:22:37.364179-08:00","dependencies":[{"issue_id":"markform-ja8","depends_on_id":"markform-ejt","type":"blocks","created_at":"2025-12-22T23:19:12.991725-08:00","created_by":"daemon"}]}
{"id":"markform-k3z","title":"3.4 Run Command (cli/commands/run.ts)","description":"Implement run command:\n- --mock flag for mock mode\n- --completed-mock \u003cfile\u003e for mock values source\n- --record \u003cfile\u003e to output session transcript\n- Execute harness loop to completion\n- Output session YAML","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:20:47.969934-08:00","updated_at":"2025-12-22T23:20:47.969934-08:00","dependencies":[{"issue_id":"markform-k3z","depends_on_id":"markform-yz3","type":"blocks","created_at":"2025-12-22T23:20:54.987236-08:00","created_by":"daemon"},{"issue_id":"markform-k3z","depends_on_id":"markform-o5m","type":"blocks","created_at":"2025-12-22T23:20:56.221164-08:00","created_by":"daemon"},{"issue_id":"markform-k3z","depends_on_id":"markform-9sy","type":"blocks","created_at":"2025-12-22T23:20:56.376048-08:00","created_by":"daemon"}]}
{"id":"markform-kak","title":"2.3 Export Command (cli/commands/export.ts)","description":"Implement export command:\n- Parse form file\n- Output JSON: { schema, values }","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:20:21.75947-08:00","updated_at":"2025-12-22T23:20:21.75947-08:00","dependencies":[{"issue_id":"markform-kak","depends_on_id":"markform-n3l","type":"blocks","created_at":"2025-12-22T23:20:30.033565-08:00","created_by":"daemon"},{"issue_id":"markform-kak","depends_on_id":"markform-g3k","type":"blocks","created_at":"2025-12-22T23:20:31.260119-08:00","created_by":"daemon"}]}
{"id":"markform-mus","title":"Create markform package structure","description":"Create packages/markform/ with full structure per research doc:\n\npackage.json:\n- name: markform\n- version: 0.1.0\n- type: module\n- sideEffects: false\n- main: ./dist/index.cjs\n- module: ./dist/index.js\n- types: ./dist/index.d.ts\n- exports with proper ESM/CJS dual support (types first!)\n- bin: { markform: ./dist/bin.js }\n- files: ['dist']\n- engines: { node: '\u003e=24' }\n- Scripts: build, dev, typecheck, test, publint, prepack\n\ntsdown.config.ts:\n- entry: { index, bin }\n- format: ['esm', 'cjs']\n- platform: node\n- target: node24\n- sourcemap: true\n- dts: true\n- clean: true\n- banner for shebang on bin.*\n\ntsconfig.json:\n- extends: ../../tsconfig.base.json\n- compilerOptions: { types: ['node'], noEmit: true }\n- include: ['src']\n\nDirectory structure:\n- src/engine/\n- src/cli/\n- src/harness/\n- src/integrations/\n- src/web/\n- src/index.ts\n- tests/unit/\n- tests/golden/\n\nRef: docs/project/research/current/research-modern-typescript-monorepo-package.md (Appendix A, D)","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:19:04.960122-08:00","updated_at":"2025-12-22T23:22:38.122862-08:00","dependencies":[{"issue_id":"markform-mus","depends_on_id":"markform-ejt","type":"blocks","created_at":"2025-12-22T23:19:13.129649-08:00","created_by":"daemon"},{"issue_id":"markform-mus","depends_on_id":"markform-ja8","type":"blocks","created_at":"2025-12-22T23:19:14.286237-08:00","created_by":"daemon"}]}
{"id":"markform-n3l","title":"Phase 2: Web UI (serve) and Basic CLI","description":"Enable browsing forms via web UI and basic CLI inspection.\n\nSub-tasks:\n2.1 CLI Infrastructure (cli/)\n2.2 Inspect Command (cli/commands/inspect.ts)\n2.3 Export Command (cli/commands/export.ts)\n2.4 Serve Command (cli/commands/serve.ts)\n\nCheckpoints (automated):\n- markform inspect outputs valid YAML\n- markform export outputs valid JSON\n- CLI integration tests pass\n\nCheckpoints (manual):\n- User verifies serve renders form correctly in browser\n- User verifies Save button works with versioned filenames","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-22T23:18:37.565782-08:00","updated_at":"2025-12-22T23:18:37.565782-08:00","dependencies":[{"issue_id":"markform-n3l","depends_on_id":"markform-08t","type":"blocks","created_at":"2025-12-22T23:18:46.147474-08:00","created_by":"daemon"},{"issue_id":"markform-n3l","depends_on_id":"markform-2j6","type":"blocks","created_at":"2025-12-22T23:18:47.337796-08:00","created_by":"daemon"}]}
{"id":"markform-o5m","title":"3.2 Harness Implementation (harness/)","description":"Implement FormHarness class:\n- State machine: INIT -\u003e STEP -\u003e WAIT -\u003e APPLY -\u003e COMPLETE\n- step() returns StepResult with summaries and issues\n- apply(patches) applies and revalidates\n- max_turns safety limit","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:20:46.388058-08:00","updated_at":"2025-12-22T23:20:46.388058-08:00","dependencies":[{"issue_id":"markform-o5m","depends_on_id":"markform-yz3","type":"blocks","created_at":"2025-12-22T23:20:54.685762-08:00","created_by":"daemon"}]}
{"id":"markform-o75","title":"4.3 Documentation","description":"Document AI SDK integration:\n- Document in README\n- Document tool schemas\n- Document harness configuration options","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-22T23:21:07.510942-08:00","updated_at":"2025-12-22T23:21:07.510942-08:00","dependencies":[{"issue_id":"markform-o75","depends_on_id":"markform-x39","type":"blocks","created_at":"2025-12-22T23:21:13.895894-08:00","created_by":"daemon"},{"issue_id":"markform-o75","depends_on_id":"markform-1xj","type":"blocks","created_at":"2025-12-22T23:21:14.776524-08:00","created_by":"daemon"}]}
{"id":"markform-o8l","title":"Create placeholder src and tests","description":"Create placeholder source and tests to verify tooling:\n\nsrc/index.ts:\n- Export package version from package.json\n- Export placeholder types\n\ntests/unit/index.test.ts:\n- Basic test using vitest\n- Import and verify version export works\n\nVerify all commands pass:\n- pnpm install (from root)\n- pnpm build\n- pnpm typecheck\n- pnpm lint\n- pnpm publint\n- pnpm test\n\nAdd vitest to package devDependencies:\n- vitest ^3.0.0\n\nPackage scripts:\n- test: vitest run\n- test:watch: vitest","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:19:07.022832-08:00","updated_at":"2025-12-22T23:22:40.32919-08:00","dependencies":[{"issue_id":"markform-o8l","depends_on_id":"markform-ejt","type":"blocks","created_at":"2025-12-22T23:19:13.565662-08:00","created_by":"daemon"},{"issue_id":"markform-o8l","depends_on_id":"markform-cvf","type":"blocks","created_at":"2025-12-22T23:19:14.742844-08:00","created_by":"daemon"}]}
{"id":"markform-x39","title":"Phase 4: Vercel AI SDK Integration","description":"Research and validate AI SDK tool integration for live agent mode.\n\nSub-tasks:\n4.1 AI SDK Tool Definitions (integrations/ai-sdk.ts)\n4.2 Live Agent Test Script\n4.3 Documentation\n\nCheckpoints (automated):\n- AI SDK tools have correct Zod schemas\n- Tool execute functions return correct types\n- Integration tests pass\n\nCheckpoints (manual):\n- User runs live AI agent test\n- User reviews agent conversation logs\n- User verifies final forms are correctly filled","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-22T23:18:38.965938-08:00","updated_at":"2025-12-22T23:18:38.965938-08:00","dependencies":[{"issue_id":"markform-x39","depends_on_id":"markform-08t","type":"blocks","created_at":"2025-12-22T23:18:46.432752-08:00","created_by":"daemon"},{"issue_id":"markform-x39","depends_on_id":"markform-yz3","type":"blocks","created_at":"2025-12-22T23:18:47.616459-08:00","created_by":"daemon"}]}
{"id":"markform-yyh","title":"3.5 Golden Session Tests (tests/golden/)","description":"Implement golden session testing:\n- Session transcript schema validation\n- runGoldenTest(sessionPath) implementation\n- Replay turns, verify issues, verify snapshots\n- Create simple.session.yaml\n- Create company-quarterly-analysis.session.yaml\n- Integration test runner","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:20:48.777963-08:00","updated_at":"2025-12-22T23:20:48.777963-08:00","dependencies":[{"issue_id":"markform-yyh","depends_on_id":"markform-yz3","type":"blocks","created_at":"2025-12-22T23:20:55.144278-08:00","created_by":"daemon"},{"issue_id":"markform-yyh","depends_on_id":"markform-k3z","type":"blocks","created_at":"2025-12-22T23:20:56.53563-08:00","created_by":"daemon"}]}
{"id":"markform-yz3","title":"Phase 3: End-to-End CLI and Session Tests","description":"Complete CLI functionality and golden session testing.\n\nSub-tasks:\n3.1 Apply Command (cli/commands/apply.ts)\n3.2 Harness Implementation (harness/)\n3.3 Mock Agent (harness/mockAgent.ts)\n3.4 Run Command (cli/commands/run.ts)\n3.5 Golden Session Tests (tests/golden/)\n\nCheckpoints (automated):\n- markform apply with valid patches succeeds\n- markform apply with invalid patches rejects batch\n- markform run --mock completes\n- Golden tests pass for both forms\n\nCheckpoints (manual):\n- User reviews session transcript YAML for readability","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-22T23:18:38.251309-08:00","updated_at":"2025-12-22T23:18:38.251309-08:00","dependencies":[{"issue_id":"markform-yz3","depends_on_id":"markform-08t","type":"blocks","created_at":"2025-12-22T23:18:46.288805-08:00","created_by":"daemon"},{"issue_id":"markform-yz3","depends_on_id":"markform-n3l","type":"blocks","created_at":"2025-12-22T23:18:47.478948-08:00","created_by":"daemon"}]}
{"id":"markform-zt3","title":"Setup linting and changeset","description":"Setup ESLint (strict type-aware) and Changesets per research doc:\n\nESLint (eslint.config.js - flat config):\n- Type-aware using recommendedTypeChecked + stylisticTypeChecked\n- projectService: true for precise cross-project types\n- Rules:\n  - curly: ['error', 'all']\n  - brace-style: ['error', '1tbs']\n  - @typescript-eslint/no-unused-vars with underscore patterns\n  - @typescript-eslint/no-floating-promises: error\n  - @typescript-eslint/no-misused-promises: error\n  - @typescript-eslint/await-thenable: error\n  - @typescript-eslint/consistent-type-imports: error\n  - @typescript-eslint/no-import-type-side-effects: error\n  - no-restricted-syntax for TSImportType\n- Relaxed rules for test files and scripts\n- Ignores: dist, node_modules, .pnpm-store\n\nChangesets (.changeset/):\n- config.json with @changesets/changelog-github\n- access: public\n- baseBranch: main\n- README.md\n\nRoot devDependencies:\n- @changesets/cli ^2.28.0\n- @changesets/changelog-github ^0.5.0\n- @eslint/js ^9.0.0\n- eslint ^9.0.0\n- typescript ^5.0.0\n- typescript-eslint ^8.0.0\n\nRef: docs/project/research/current/research-modern-typescript-monorepo-package.md (Appendix B, C)","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:19:05.715134-08:00","updated_at":"2025-12-22T23:22:38.835448-08:00","dependencies":[{"issue_id":"markform-zt3","depends_on_id":"markform-ejt","type":"blocks","created_at":"2025-12-22T23:19:13.273548-08:00","created_by":"daemon"},{"issue_id":"markform-zt3","depends_on_id":"markform-mus","type":"blocks","created_at":"2025-12-22T23:19:14.437331-08:00","created_by":"daemon"}]}
