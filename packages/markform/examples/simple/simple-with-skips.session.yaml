session_version: 0.1.0
mode: mock
form:
  path: simple.form.md
mock:
  completed_mock: simple-skipped-filled.form.md
harness:
  max_turns: 100
  max_patches_per_turn: 20
  max_issues_per_turn: 10
  target_roles:
    - '*'
  fill_mode: continue
turns:
  - turn: 1
    inspect:
      issues:
        - ref: age
          scope: field
          reason: required_missing
          message: Required field "Age" is empty
          severity: required
          priority: 1
        - ref: categories
          scope: field
          reason: required_missing
          message: Required field "Categories" has no selections
          severity: required
          priority: 1
        - ref: confirmations
          scope: field
          reason: required_missing
          message: All items in "Confirmations (Explicit Mode)" must be answered (2 unfilled)
          severity: required
          priority: 1
        - ref: email
          scope: field
          reason: required_missing
          message: Required field "Email" is empty
          severity: required
          priority: 1
        - ref: event_date
          scope: field
          reason: required_missing
          message: Required field "Event Date" is empty
          severity: required
          priority: 1
        - ref: founded_year
          scope: field
          reason: required_missing
          message: Required field "Founded Year" is empty
          severity: required
          priority: 1
        - ref: name
          scope: field
          reason: required_missing
          message: Required field "Name" is empty
          severity: required
          priority: 1
        - ref: priority
          scope: field
          reason: required_missing
          message: Required field "Priority" has no selection
          severity: required
          priority: 1
        - ref: tags
          scope: field
          reason: required_missing
          message: Required field "Tags" is empty
          severity: required
          priority: 1
        - ref: tasks_multi
          scope: field
          reason: required_missing
          message: All items in "Tasks (Multi Mode)" must be completed
          severity: required
          priority: 1
    apply:
      patches:
        - op: set_number
          field_id: age
          value: 25
        - op: set_multi_select
          field_id: categories
          selected:
            - frontend
            - backend
        - op: set_checkboxes
          field_id: confirmations
          values:
            backed_up: yes
            notified: no
        - op: set_string
          field_id: email
          value: test@example.com
        - op: set_date
          field_id: event_date
          value: 2025-03-15
        - op: set_year
          field_id: founded_year
          value: 2021
        - op: set_string
          field_id: name
          value: Test User
        - op: set_single_select
          field_id: priority
          selected: high
        - op: set_string_list
          field_id: tags
          items:
            - typescript
            - testing
        - op: set_checkboxes
          field_id: tasks_multi
          values:
            research: done
            design: done
            implement: done
            test: na
    after:
      required_issue_count: 2
      markdown_sha256: b5b261b437d0ea9762f342d8a6e1f44ece1b1f0ae0bd4a8709e8ba84625ecae3
      answered_field_count: 10
      skipped_field_count: 0
  - turn: 2
    inspect:
      issues:
        - ref: tasks_simple
          scope: field
          reason: required_missing
          message: All items in "Agreements (Simple Mode)" must be checked (2 unchecked)
          severity: required
          priority: 1
        - ref: website
          scope: field
          reason: required_missing
          message: Required field "Website" is empty
          severity: required
          priority: 1
        - ref: notes
          scope: field
          reason: optional_empty
          message: Optional field has no value
          severity: recommended
          priority: 3
        - ref: optional_date
          scope: field
          reason: optional_empty
          message: Optional field has no value
          severity: recommended
          priority: 3
        - ref: optional_number
          scope: field
          reason: optional_empty
          message: Optional field has no value
          severity: recommended
          priority: 3
        - ref: optional_year
          scope: field
          reason: optional_empty
          message: Optional field has no value
          severity: recommended
          priority: 3
        - ref: project_tasks
          scope: field
          reason: optional_empty
          message: Optional field has no value
          severity: recommended
          priority: 3
        - ref: references
          scope: field
          reason: optional_empty
          message: Optional field has no value
          severity: recommended
          priority: 3
        - ref: related_url
          scope: field
          reason: optional_empty
          message: Optional field has no value
          severity: recommended
          priority: 3
        - ref: score
          scope: field
          reason: optional_empty
          message: Optional field has no value
          severity: recommended
          priority: 3
    apply:
      patches:
        - op: set_checkboxes
          field_id: tasks_simple
          values:
            read_guidelines: done
            agree_terms: done
        - op: set_url
          field_id: website
          value: https://test.example.com
        - op: skip_field
          field_id: notes
          role: agent
          reason: No value in mock form
        - op: skip_field
          field_id: optional_date
          role: agent
          reason: No value in mock form
        - op: skip_field
          field_id: optional_number
          role: agent
          reason: No value in mock form
        - op: skip_field
          field_id: optional_year
          role: agent
          reason: No value in mock form
        - op: skip_field
          field_id: project_tasks
          role: agent
          reason: No value in mock form
        - op: set_url_list
          field_id: references
          items:
            - https://docs.example.com
        - op: skip_field
          field_id: related_url
          role: agent
          reason: No value in mock form
        - op: skip_field
          field_id: score
          role: agent
          reason: No value in mock form
    after:
      required_issue_count: 0
      markdown_sha256: 943a9dac5094e295b53bd4cf38733fcff32e4311b6e308d5904199f4898d4f5d
      answered_field_count: 13
      skipped_field_count: 7
  - turn: 3
    inspect:
      issues:
        - ref: team_members
          scope: field
          reason: optional_empty
          message: Optional field has no value
          severity: recommended
          priority: 3
    apply:
      patches:
        - op: skip_field
          field_id: team_members
          role: agent
          reason: No value in mock form
    after:
      required_issue_count: 0
      markdown_sha256: e19d2e529bceab1dc64310fe2a75d70d062fa060230d7109eb541766c0a0f4e5
      answered_field_count: 13
      skipped_field_count: 8
final:
  expect_complete: true
  expected_completed_form: simple-skipped-filled.form.md
