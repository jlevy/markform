{"id":"markform-1","title":"Refactor: Use Markdoc native frontmatter parsing","description":"Replace regex-based frontmatter extraction with Markdoc's built-in frontmatter support.\n\n**Spec:** docs/project/specs/active/plan-2025-12-30-markdoc-frontmatter.md\n\n**Problem:**\nTwo places with duplicate regex-based frontmatter extraction:\n- `packages/markform/src/engine/parse.ts:56` - FRONTMATTER_REGEX\n- `packages/markform/src/cli/examples/exampleRegistry.ts:153` - similar regex\n\n**Solution:**\nMarkdoc.parse() natively extracts frontmatter into `ast.attributes.frontmatter`.\n\n**Benefits:**\n- Single source of truth for frontmatter detection\n- Better edge case handling (line endings)\n- Reduced code duplication\n- Consistent behavior across codebase\n\n**Implementation:**\n1. Remove FRONTMATTER_REGEX from parse.ts\n2. Pass full content to Markdoc.parse(), extract frontmatter from AST\n3. Create shared frontmatter utility\n4. Update exampleRegistry.ts to use shared utility\n5. Update tests","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-30T10:34:58.366768-08:00","created_by":"levy","updated_at":"2025-12-30T10:34:58.366768-08:00"}
{"id":"markform-10","title":"Add serialize.ts edge case tests","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T18:23:47.341629977Z","created_by":"Claude","updated_at":"2026-01-06T18:23:47.341629977Z"}
{"id":"markform-11","title":"Update coverage thresholds progressively","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-06T18:23:47.442801367Z","created_by":"Claude","updated_at":"2026-01-06T18:23:47.442801367Z","dependencies":[{"issue_id":"markform-11","depends_on_id":"markform-8","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"markform-11","depends_on_id":"markform-9","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"markform-11","depends_on_id":"markform-10","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"markform-12","title":"tryscript --monocart not excluding node_modules from coverage","description":"When using `tryscript coverage --monocart`, node_modules are still included in the coverage report despite `excludeNodeModules: true` in tryscript.config.mjs and the default `--exclude-node-modules` flag being true.\n\nObserved: Coverage report includes paths like `node_modules/@ai-sdk/anthropic/dist/index.mjs`\n\nExpected: node_modules should be excluded from coverage reports.\n\nThis may be a bug in tryscript v0.1.3 or monocart integration. For now, the CI coverage reporting should still work since it focuses on src files, but the overall percentages are inflated.\n\nInvestigation:\n- Check if monocart's entryFilter needs different configuration\n- May need to report upstream to tryscript if this is a bug","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-01-07T08:26:24.972137974Z","created_by":"Claude","updated_at":"2026-01-07T08:54:50.158669412Z","closed_at":"2026-01-07T08:54:50.158669412Z","close_reason":"Changed approach: using vitest --coverage for primary coverage instead of tryscript coverage. The node_modules issue no longer affects primary coverage reporting."}
{"id":"markform-2","title":"[P5.1] Update tryscript.config.mjs for v0.1.0","description":"Remove unused bin config from tryscript.config.mjs.\nKeep only patterns and env that are still needed.\n\nReference: docs/project/specs/active/plan-2026-01-02-tryscript-cli-testing.md (Phase 5.1)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T01:47:22.274496171Z","created_by":"Claude","updated_at":"2026-01-04T01:48:46.714630028Z","closed_at":"2026-01-04T01:48:46.714630028Z"}
{"id":"markform-3","title":"[P5.2] Rewrite commands.tryscript.md with clean format","description":"Convert all 12 CLI command tests to use tryscript v0.1.0 features:\n- Add cwd: ../.. to run from package directory\n- Add env.CLI: ./dist/bin.mjs for the CLI binary\n- Replace absolute paths with $CLI and relative example paths\n- Keep all existing test assertions\n\nReference: docs/project/specs/active/plan-2026-01-02-tryscript-cli-testing.md (Phase 5.2)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T01:47:26.409452501Z","created_by":"Claude","updated_at":"2026-01-04T01:50:55.440670314Z","closed_at":"2026-01-04T01:50:55.440670314Z","dependencies":[{"issue_id":"markform-3","depends_on_id":"markform-2","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"markform-4","title":"[P5.3] Rewrite workflows.tryscript.md with clean format","description":"Convert all 6 workflow tests to use tryscript v0.1.0 features:\n- Add cwd: ../.. to run from package directory\n- Add env.CLI for the CLI binary\n- Replace absolute paths with $CLI and relative paths\n- For apply test, consider using sandbox with fixtures\n\nReference: docs/project/specs/active/plan-2026-01-02-tryscript-cli-testing.md (Phase 5.3)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T01:47:30.991557905Z","created_by":"Claude","updated_at":"2026-01-04T01:51:54.553545507Z","closed_at":"2026-01-04T01:51:54.553545507Z","dependencies":[{"issue_id":"markform-4","depends_on_id":"markform-2","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"markform-5","title":"[P5.4] Enable tryscript in CI","description":"Uncomment the tryscript step in .github/workflows/ci.yml:\n  - run: pnpm --filter markform test:tryscript\n\nThe tests should now work in CI since paths are relative.\n\nReference: docs/project/specs/active/plan-2026-01-02-tryscript-cli-testing.md (Phase 5.4)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T01:47:34.90614172Z","created_by":"Claude","updated_at":"2026-01-04T01:52:25.728222059Z","closed_at":"2026-01-04T01:52:25.728222059Z","dependencies":[{"issue_id":"markform-5","depends_on_id":"markform-3","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"markform-5","depends_on_id":"markform-4","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"markform-6","title":"[P5.5] Verify tryscript tests pass locally and in CI","description":"Run tryscript tests locally and verify they pass:\n  pnpm --filter markform test:tryscript\n\nAfter pushing, verify CI passes with the tryscript step enabled.\n\nReference: docs/project/specs/active/plan-2026-01-02-tryscript-cli-testing.md (Phase 5.5)","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-04T01:47:40.981653916Z","created_by":"Claude","updated_at":"2026-01-04T01:52:29.663309973Z","dependencies":[{"issue_id":"markform-6","depends_on_id":"markform-5","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"markform-7","title":"[P5.6] Update tryscript documentation","description":"Update documentation to reflect tryscript v0.1.0:\n- Update docs/development.md tryscript section\n- Update validation plan if needed\n- Close related beads issues (518-520)\n\nReference: docs/project/specs/active/plan-2026-01-02-tryscript-cli-testing.md (Phase 5.6)","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-04T01:47:45.168054532Z","created_by":"Claude","updated_at":"2026-01-04T01:47:45.168054532Z","dependencies":[{"issue_id":"markform-7","depends_on_id":"markform-6","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"markform-8","title":"Add tryscript error path tests","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T18:23:47.147736357Z","created_by":"Claude","updated_at":"2026-01-06T18:23:47.147736357Z"}
{"id":"markform-9","title":"Add apply.ts error branch tests","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T18:23:47.24218722Z","created_by":"Claude","updated_at":"2026-01-06T18:23:47.24218722Z"}
