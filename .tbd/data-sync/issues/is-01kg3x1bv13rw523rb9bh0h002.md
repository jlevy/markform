---
close_reason: null
closed_at: 2025-12-24T05:29:48.239Z
created_at: 2025-12-24T01:39:33.998Z
deferred_until: null
dependencies: []
due_date: null
extensions:
  beads:
    imported_at: 2026-01-29T03:34:03.137Z
    original_id: markform-146
id: is-01kg3x1bv13rw523rb9bh0h002
kind: feature
labels: []
parent_id: null
priority: 2
status: closed
title: Add --prompt flag to fill command for custom agent instructions
type: is
updated_at: 2025-12-24T05:29:48.239Z
version: 1
---
## Problem

The `LiveAgentConfig` already supports `systemPrompt?: string` but there's no way to set it from the CLI.

## Solution

Add flags to the `fill` command:

```
--prompt <file>         Path to custom system prompt file (overrides form/role defaults)
--instructions <text>   Inline system prompt (overrides --prompt and form defaults)
```

## Behavior

- `--prompt` reads a file and uses its contents as the system prompt
- `--instructions` takes inline text (useful for simple overrides)
- `--instructions` takes precedence over `--prompt` if both specified
- Both override any form-level or role-level instructions

## Files to Modify

- `packages/markform/src/cli/commands/fill.ts` - Add options, pass to createLiveAgent
- `packages/markform/src/harness/liveAgent.ts` - Already supports `systemPrompt` (no changes needed)

## Spec Reference

Originally listed as "Nice to Have" in fill-command-live-agent spec (line 92).
